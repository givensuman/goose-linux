# ISO configuration for installation media builds
# This configuration is used by bootc-image-builder for ISO generation
# Reference: https://github.com/osbuild/bootc-image-builder

# Filesystem configuration
[customizations.filesystem]
root = "btrfs"

# ISO-specific partition layout
# Larger boot partition for installer
[[customizations.disk.partitions]]
type = "esp"
size = "512MiB"
mountpoint = "/boot/efi"
filesystem = "vfat"

[[customizations.disk.partitions]]
type = "boot"
size = "2GiB"
mountpoint = "/boot"
filesystem = "ext4"

[[customizations.disk.partitions]]
type = "root"
# No size specified - uses remaining space
mountpoint = "/"
filesystem = "btrfs"

# Btrfs subvolumes
[customizations.filesystem.btrfs]
subvolumes = [
    "@",
    "@home",
    "@var",
]

# Installer options
[customizations.installer]
# Allow user creation during installation
unattended = false

# Kickstart configuration can be added here
# [customizations.installer.kickstart]
# path = "/path/to/kickstart.ks"
